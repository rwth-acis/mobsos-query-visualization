-- Adminer 4.2.0 MySQL dump

SET NAMES utf8mb4;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

CREATE DATABASE `QVS` IF NOT EXISTS  /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `QVS`;

CREATE TABLE `DATABASE_CONNECTIONS` IF NOT EXISTS  (
  `JDBCINFO` int(11) NOT NULL,
  `KEY` varchar(255) NOT NULL,
  `USERNAME` varchar(255) NOT NULL,
  `PASSWORD` varchar(255) NOT NULL,
  `DATABASE` varchar(255) NOT NULL,
  `HOST` varchar(255) NOT NULL,
  `PORT` varchar(5) NOT NULL,
  `USER` varchar(128) NOT NULL,
  PRIMARY KEY (`KEY`,`USER`),
  KEY `USER_idx` (`USER`),
 CONSTRAINT `USER` FOREIGN KEY (`USER`) REFERENCES `USERS` (`ID`) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `FILTERS` IF NOT EXISTS  (
  `KEY` varchar(45) NOT NULL,
  `QUERY` text NOT NULL,
  `USER` varchar(128) NOT NULL,
  `DB_KEY` varchar(45) NOT NULL,
  PRIMARY KEY (`KEY`,`USER`),
  KEY `USER_idx` (`DB_KEY`),
  KEY `UID_idx` (`USER`),
  CONSTRAINT `DB` FOREIGN KEY (`DB_KEY`) REFERENCES `DATABASE_CONNECTIONS` (`KEY`),
  CONSTRAINT `UID` FOREIGN KEY (`USER`) REFERENCES `USERS` (`ID`) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `QUERIES` IF NOT EXISTS (
  `KEY` varchar(45) NOT NULL,
  `USER` varchar(128) NOT NULL,
  `USERNAME` varchar(255) NOT NULL,
  `PASSWORD` varchar(255) NOT NULL,
  `JDBCINFO` int(11) NOT NULL,
  `DATABASE_KEY` varchar(255) NOT NULL,
  `DATABASE_NAME` varchar(255) NOT NULL,
  `HOST` varchar(255) NOT NULL,
  `PORT` int(11) NOT NULL,
  `USE_CACHE` varchar(1) DEFAULT '0',
  `QUERY_STATEMENT` text NOT NULL,
  `FILTER_DEFAULTS` text NOT NULL,
  `MODIFICATION_TYPE` int(11) NOT NULL,
  `VISUALIZATION_TYPE` varchar(30) NOT NULL,
  `VISUALIZATION_TITLE` varchar(255) DEFAULT NULL,
  `VISUALIZATION_HEIGHT` int(11) DEFAULT NULL,
  `VISUALIZATION_WIDTH` int(11) DEFAULT NULL,
  PRIMARY KEY (`KEY`,`USER`),
  KEY `fk_QUERIES_1_idx` (`USER`),
  CONSTRAINT `fk_QUERIES_1` FOREIGN KEY (`USER`) REFERENCES `USERS` (`ID`) 
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE `USERS` IF NOT EXISTS (
  `ID` varchar(128) NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


-- 2015-03-03 14:22:04

